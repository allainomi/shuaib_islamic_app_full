name: Real Artifacts Check

on:
  push:
    branches: [ main ]

jobs:
  check:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Real Project Analysis
      run: |
        echo "ðŸ” REAL PROJECT ANALYSIS" > analysis.txt
        echo "========================" >> analysis.txt
        
        echo "" >> analysis.txt
        echo "ðŸ“Š FILE COUNTS:" >> analysis.txt
        echo "Total files: $(find . -type f | wc -l)" >> analysis.txt
        echo "Dart files: $(find . -name '*.dart' | wc -l)" >> analysis.txt
        echo "Java/Kotlin files: $(find . -name '*.java' -o -name '*.kt' | wc -l)" >> analysis.txt
        echo "XML files: $(find . -name '*.xml' | wc -l)" >> analysis.txt
        
        echo "" >> analysis.txt
        echo "ðŸ“ PROJECT SIZE:" >> analysis.txt
        du -sh . >> analysis.txt
        
        echo "" >> analysis.txt
        echo "ðŸ“‹ DART FILES LIST:" >> analysis.txt
        find . -name "*.dart" -type f >> analysis.txt 2>/dev/null || echo "No Dart files found" >> analysis.txt
        
        echo "" >> analysis.txt
        echo "ðŸ“¦ PUBSPEC.YAML:" >> analysis.txt
        find . -name "pubspec.yaml" -type f >> analysis.txt 2>/dev/null || echo "No pubspec.yaml found" >> analysis.txt

    - name: Upload Real Analysis
      uses: actions/upload-artifact@v4
      with:
        name: real-project-analysis
        path: analysis.txt
        retention-days: 30
